# Монополия
## 1. Введение

### 1.1. Цель игры
**Цель игры** в Монополию - стать самым богатым игроком посредством *покупки*, *продажи* и *сбора рены* с *собственности*.

### 1.2. Подготовка
Вначале игроки выбирают одну из *фишек*, которыми они будут играть. Игрок ставит эту фишку на *игровую карту* на *поле* `GO`. Игрокам раздается по $1500 вначале игры.

Также, тассуются карты `Шанс/Общественная Казна` и кладутся на игровую карту в отдельные стопки. (см. раздел "Карточки Шанс/Общественная казна)

Все оставшиеся деньги, остаются в *банке* и ими управляет игрок, который вызвался быть *банкиром*.

### 1.3. Банкир
Банкир - это игрок, который проводит *аукционы* и обрабатывает все *игровые транзакции*. Банкир обязан держать свои сбережения и сбережения банка **строго раздельно**. Если в игре 5 человек и более, то допускается выбрать одним игроком банкира, а другим игроком - *аукционщика*.

### 1.4 Банк
Банк является **важной** игровой сущностью. Банк хранит *деньги* и *карточки собственности*.

Банк собирает: 
- штрафы
- налоги
- деньги которые у него заняли
- деньги от продажи карточек собственности игрокам
- деньги от продажи домов и отелей игрокам
- деньги от продажи собсвенности на аукционах 
- деньги от выдачи игроку заложенной собственности

Банк выдает:
- бонусы
- зарплату при прохождении поля `GO`
- заемные деньги
- деньги, если собственность закладывается

Выпуск денег банком:

> Банк не может обанкротиться. Если денег не хватает, банк может производить эмиссию в любой момент, когда это потребуется.

## 2. Игровой процесс

### 2.1 Основа игрового процесса

#### 2.1.1 Очередность хода
В начале игры, каждый игрок кидает *две игровые кости*, на которых располагаются числа от 1 до 6. После того, как игроки кинули кости, для каждого игрока есть сумма чисел, которые выпали им на костях. Игроки начиают ходить по кругу в порядке уменьшения суммы выпавших чисел. 

>Например, играют три игрока, у каждого выпали следующие числа на костях:
>1. Игроку A выпало 6
>2. Игроку В выпало 12
>3. Игроку С выпало 2

В этой ситуации игроки ходят в следующем порядке: B, A, C. После того, как походил игрок С, который в данном случае является последним, круг заканчивается, и начинает ходить игрок A. Таким образом, игроки ходят по кругу по очереди, которую определяют начальные броски костей.

#### 2.1.2 Начало игры
Для того чтобы начать игру, необходимо провести действия описанные в соответствующем разделе (см. раздел 1.2. Подготовка). Только после этого можно совершить первый ход.

#### 2.1.3 Ход
Игрок, у котого наступила очередь ходить, бросает кубики, затем передвигает свою фишку на количество полей вперед по направлению стрелки (стрелка указана на игровой карте). Количество полей определяется суммой выпавших чисел на брошенных игроком костях. 

После завершения хода, фишка игрока остается на том поле, куда пришел игрок, когда наступит следующая очередь ходить, игрок будет передвигать свою фишку уже с того поля на котором он оказался по завершению предыдущего хода.

Игрок может попасть на следующие типы полей:

1. Поле "GO"
2. Собственность 
3. Налог
4. Шанс/общественная казна
5. Бесплатная стоянка
6. Направиться в тюрьму
7. Посетить тюрьму

Правило дубля:

>Если на двух костях выпали **одинаковые числа**, то игрок ходит на количество полей вперед согласно сумме выпавших на костях чисел, совершает действия согласно типу и состоянию поля на котопрое попала его фишка, затем игрок бросает кости **еще раз**. Если на костях выпали дубли три раза подряд, то на третий раз игрок **не ходит вперед**, а отправляется в **тюрьму** (см. раздел "Тюрьма").

### 2.2. Поля игровой карты
Важным понятием игры в Монополию является **поле** игровой карты. От типа поля на которое попал игрок после броска костей зависят его **дальнейшие действия**. Далее, в этом разделе рассмотрим типы полей.

#### 2.2.1 Поле "GO"
Каждый раз когда игрок оказывается на поле "GO" или проходит его, то банк **платит** игроку зарплату в размере $200. Если игрок проходит поле "GO" чтобы попасть в тюрьму, то игрок **не получает** $200.

#### 2.2.2 Поле "Собственность"
Поля собственности бывают трех различных типов:

1. Улица
2. Железная дорога
3. Коммунальная услуга
   
Если игрок попал на поле "Собственность" и оно не принадлежит другому игроку и не заложено в банк, то происходит *процесс покупки* (см. раздел "Покупка"). Если игрок желает купить собственность, то он платит в банк сумму, указанную на поле игровой карты в банк, затем банкир быдает ему **карточку собственности**. После этого игрок считается **обладателем собственности**.

Если игрок **не желает** покупать собственность, то банкир (или аукционщик, если это отдельный игрок), объявляет **аукцион** на эту собственность. Аукцион проводится согласно правилам аукциона (см. раздел "Аукцион").

>Таким образом, после того как игрок попал на собственность, которая никому не принадлежит, эта собственность попадает во владение какому-нибудь игроку или возвращается в банк, если она не смогла быть проданна на аукционе.

Если же собственность, на которую попал игрок находится во владении другого игрока, то игрок, попавший на эту собственность платит ренту владельцу собственности (см. раздел "Уплата ренты").

Если игрок попал на собственность, которой он владеет, то он может не выполнять никаких действий, ровно так же как если бы он попал на поле "Бесплатная стоянка" (см. раздел 2.2.5. Поле "Бесплатная стоянка")

##### 2.2.2.1 Поле "Собственность" типа "Улица"
Поле "Собственность", типа "Улица" имеет следующие характеристики:


| Название характеристики                | Тип значения             |
| -------------------------------------- | ------------------------ |
| Цвет                                   | один из возможных цветов |
| Название                               | строка символов          |
| Начальная сумма ренты                  | число                    |
| Сумма ренты с домами в количестве 1шт. | число                    |
| Сумма ренты с домами в количестве 2шт. | число                    |
| Сумма ренты с домами в количестве 3шт. | число                    |
| Сумма ренты с домами в количестве 4шт. | число                    |
| Сумма ренты с отелем                   | число                    |
| Цена дома/отеля                        | число                    |
| Залоговая стоимость                    | число                    |

Рассмотрим характеристику `цвет`. Одинаковым цветом обозначается группа улиц стоящих рядом. Цвет важен когда игрок хочет купить *дом* или *отель* (см. раздел "Дома/отели"). Группа улиц одного цвета может состоять из 3 или 2 отдельных улиц.

> Если у игрока во владении находится вся группа улиц одного цвета, то игрок, который будет платить ренту, должен заплптить начальную сумму ренты умноженную на 2 (если на момент попадания на улице не стоит дом или отель).

##### 2.2.2.2 Поле "Собственность" типа "Железная дорога"
Поле "Собственность", которое имеет тип "Железная дорога" имеет следующие характеристики:

Характеристики

| Название характеристики                                          | Тип значения    |
| ---------------------------------------------------------------- | --------------- |
| Название                                                         | строка символов |
| Начальная сумма ренты                                            | число           |
| Сумма ренты если у игрока есть железные дороги в количестве 2шт. | число           |
| Сумма ренты если у игрока есть железные дороги в количестве 3шт. | число           |
| Сумма ренты если у игрока есть железные дороги в количестве 4шт. | число           |
| Залоговая стоимость                                              | число           |

> Как можно видеть, сумма ренты зависит от того, сколько железных дорог находится во владении игрока. Чем больше железных дорог, тем больше рента (см. раздел "Уплата ренты").

##### 2.2.2.3. Поле "Собственность" типа "Коммунальная услуга"
Поле "Собственность", которое имеет тип "Коммунальная услуга" имеет следующие характеристики:

Характеристики

| Название характеристики                                                      | Тип значения    |
| ---------------------------------------------------------------------------- | --------------- |
| Название                                                                     | строка символов |
| Множитель                                                                    | число           |
| Множитель если у игрока есть во владении еще одна коммунальная собственность | число           |
| Залоговая стоимость                                                          | число           |

> Для полей этого типа не указанна конкретная стоимость ренты, она рассчитывается согласно тому, сколько очков выпало у игрока на момент попадания в это поле.

#### 2.2.3. Поле "Налог"
Поле налог бывает двух типов: `Income Tax` и `Luxury Tax`.

При попадании игрока на поле `Income Tax`, игрок обязан заплатить в банк подоходный налог в размере $200 или 10% от суммы всего оцененного имущества. Решение о том, заплатить фиксированную сумму или процент от суммы оцененного имущества принимает сам игрок.

> Решение должно быть принято перед оценкой имущества игрока.

При попадании игрока на поле `Luxury Tax`, игрок обязан заплатить в банк налог на роскошь в размере $100.

#### 2.2.4. Поле "Шанс/общественная казна"
При попадании игрока на поле `Шанс/Общественная казна`, игрок тянет карточку из соответствующей стопки, расположенной на игровой карте, далее игрок показывает эту карту остальным участникам игры и выполняет действия, указанные на карточке, которая была вытянута. После того, как действия выполнены, карточка кладется вниз стопки (кроме случая когда была вытянута карточка "выйти из тюрьмы бесплатно", в этом случае игрок кладет карточку рядом с собой так, чтобы ее видели другие участники игры). 

#### 2.2.5. Поле "Бесплатная стоянка"
Игрок, который попал на это поле не получает деньги, не овладевает имуществом, не платит в банк или другим игрокам.

> Это просто бесплатное поле на котором допускается не выполнять никаких действий.

#### 2.2.6. Поле "Отправиться в тюрьму"
При попадании игрока на это поле, игрок отправляется в тюрьму. Игрок не получает зарплату при прохождении поля "GO". С этого момента игрок считается "находящимся в тюрьме" (см. раздел "Тюрьма"). 

#### 2.2.7. Поле "Посетить тюрьму"
Аналогично полю "Бесплатная стоянка" (см. раздел 2.2.5. Поле "Бесплатная стоянка")

### 2.3. Движение средств
Так как довольно важным аспектом игрового процесса является движение средств, рассмотрим процессы, непосредственно связанные с этим в данном разделе. 

#### 2.3.1. Покупка и продажа
Игра подразумевает постоянную покупку и продажу различных сущностей. Правила, которые описывают их покупку и продажу я опишу в этом разделе.

##### 2.3.1.1. Собственность
Покупка собственности совершается в момент, когда игрок попадает на поле, которое соответствует не знаятой собственности. Тоесть эта собственность в данный момент находится в банке. Для того, чтобы завладеть собственностью с целью зарабатывания на ней денег, игрок оплачивает сумму, указанную как стоимость собственности в банк. После того как банк получил средства от игрока в нужном объеме, банк передает карточку собственности игроку. После этого игрок может получать ренту от нахождения игроков на этой собственности. Кроме того, игрок может закладывать собственность в банк и получить при этом залоговую стоимость, указанную на карточке собственности как `залоговая стоимость`. (см. раздел 2.3.4. "Залог собственности") Также игрок может продать эту собственность другому игроку по оговоренной цене. Деньги в этом случае передаются от одного игрока к другому через банк (см. раздел 2.5. "Банковские операции"). Собственность можно продать другому игроку, только если она заложенена (см. раздел 2.3.4 "Залог собственности"). Продать собственность банку нельзя.

##### 2.3.1.2. Дома
Дома покупаются с целью повышения платы ренты при нахождении игрока на игровом поле собственности типа "Улица". Дома можно покупать только если в наличии у игрока, покупающего дом имеются все улицы цветовой группы. На одной улице может быть от 1 до 4 домов. Если на улице нет домов, то на нее можно поставить один дом.

Дома могут покупаться только равномерно. При совершении операции разница в количестве домов на всех улицах одной цветовой группы между собой не может стать больше 1. За один ход на одну улицу можно добавить только один дом. Дома покупаются за цену, указанную на карточке собственности. Дома могут покупаться одновременно на несколько разных улиц за один ход, если соблюдается описанное правило.

Таким образом, чтобы поставить на улицу второй дом, необходимо, чтобы на остальных улицах тоже стояло по дому. Также, к примеру, если на всех 3 улицах одной цветовой группы нет домов, то можно купить сразу три дома за один ход и поставить по одному дому на каждую улицу.

Еще один пример. Если на двух улицах стоит по одному дому, а на третьей нет дома, то чтобы поставить второй дом на одну из улиц где уже есть по одному дому, нужно сначала поставить дом на ту улицу где нет ни одного дома. Только но следующем ходу можно будет ставить по второму дому.

Продать дом банку можно за половину стоимости. При продаже домов действует то же правило что и при покупке: дома можно продавать только равномерно и по одному. Дома нельзя продавать и передавать другим игрокам. Дома нельзя закладывать в банк. Дома нельзя покупать, если в цветовой группе есть заложенная собственность.

Количество домов ограниченно, если дома закончились, то покупка дома невозможна.

##### 2.3.1.3. Отели
4 дома можно обменять на один отель. Чтобы купить отель, нужно заплатить в банк стоимость отеля указанную на карточке. После этого все дома на улице возвращаются в банк и могут быть приобретены другими игроками. Отель можно купить только если на всех улицах цветовой группы есть по 4 дома.

Отели можно продать в банк за половину стоимости покупки. При этом отель убирается в банк и на улицу возвращаются 4 дома. Если в банке нет достаточного количества домов, то продажа отеля невозможна.

Отели нельзя продавать и передавать другим игрокам. Отели нельзя закладывать.

#### 2.3.2. Аукционы
Аукцион устраивается банком в случае, если игрок, который попал на поле собственности не хочет ее покупать. Аукцион проводится по стандартным правилам. Начальная стоимость может быть любой, но не меньше $10. В аукционе могут участвовать все игроки, даже тот кто изначально отказался от покупки собственности. Если победитель аукциона не может заплатить в банк цену победной ставки, то купить собственность имеет право предыдущий игрок который разместил ставку перед победителем.

Если по завершению аукциона не нашлось покупателей, то собственность возвращается в банк и может быть приобретена далее по ходу игры по стандартным правилам.

#### 2.3.3. Рента
Рента платится владельцу собственности на которой оказался игрок. Цена ренты может быть любой, но не более той которую на данный момент можно взять с учетом состояния игры (наличие у владельца других карточек собственности, наличие домов/отелей расположенных на улице в момент попадания на нее игрока).

Рента платится только игроку, который владеет собственностью. Банк не собирает ренту. Рента не платится, если собственность находится в заложенном состоянии.

#### 2.3.4. Залог собственности
Собственность можно заложить в банк, если на ней нет отелей и домов. Если имеются отели или дома, то их необходимо сначала продать по правилам (см. разделы 2.3.1.2. "Дома" и 2.3.1.3. "Отели"). При этом банк платит залоговую стоимость в размере указанной на карточке, карточка переворачивается.

С заложенной собственности нельзя собирать ренту. Заложенную собственность можно продать другому игроку по оговоренной цене.

Владелец заложенной собственности может выкупить ее, заплатив залоговую стоимость в банк, при этом карточку собственности необходимо перевернуть.

### 2.4. Другие процессы
Помимо процессов изложенных в предыдущем разделе, существуют процессы, которые, на мой взгляд, непосредственно не связанны с движением средств, но также влияют на игровой процесс. Механизмы этих процессов будут изложены далее.

#### 2.4.1. Тюрьма
Игрок может попасть в тюрьму при следующих обстоятельствах:
1. При попадании на поле "Отправляйтесь в тюрьму"
2. При вытаскивании карточки из стопок `Шанс/Общественная казна`
3. Если на костях выпало три дубля подряд (см раздел 2.1.3 "Ход" - правило дубля)

После того как игрок попал в тюрьму, его фишка помещается на поле Находится в тюрьме.

В тюрьме игрок не может передвигаться по карте. Во время нахождения в тюрьме игрок может совершать финансовые операции: продавать и покупать дома/отели, закладывать и выкупать собственность, собирать ренту.

Чтобы выйти из тюрьмы можно:
1. Заплатить $50 в банк
2. Воспользоваться карточкой выйти из тюрьмы (см раздел 2.4.2. Карточки Шанс/общественная казна)
3. Выбросить дубль на костях (дается три попытки)

Если игрок вышел из тюрьмы, то он совершает обыкновенный ход. В тюрьме можно находиться три круга. Если игрок не вышел из тюрьмы на третьем круге, то он обязан кинуть три раза кости, чтобы выбросить дубль. Если выбросить дубль не получилось с третьей попытки, то ему необходимо заплатить $50 в банк или воспользоваться карточкой выйти из тюрьмы. Далее игрок бросает кости и совершает обыкновенный ход.

#### 2.4.2. Карточки Шанс/общественная казна
При попадании игрока на поле Шанс или поле Общественная казна, игрок должен вытянуть карту с верха стопки (стопки карт Шанс, если игрок попал на поле Шанс или же стопки карт Общественная казна, если игрок попал на поле Общественная казна). Далее следует выполнить действия, которые написаны на карте и положить ее в низ стопки.

Карта выход из тюрьмы:

Если игрок вытянул карту выход из тюрьмы, то он не кладет эту карту вниз стопки, а кладет ее рядом с собой. Он может ей воспользоваться, если попал в тюрьму. Эту карточку можно продать другому игроку по оговоренной цене.

#### 2.4.3. Банкротство
Если игрок не может заплатить налог, ренту или штраф, то этот игрок объявляется банкротом (один игрок объявляет другого банкротом). Все его имущество возвращается в банк, фишка убирается с поля.

### 2.5. Банковские операции
В этом разделе описаны действия, которые может совершать банк во время игрового процесса. Важным понятием является слово транзакция. Транзакция - это операция в ходе которой деньги в определенном объеме поступили с одного счета на другой (со счета банка на счет игрока, со счета игрока на счет банка или со счета игрока на счет другого игрока). Трансзакция подразумевает, что есть два субъекта: отправитель и получаетель. У отправителя на счете уменьшается количество денег на определенное значение, у получателя на счете увеличивается количество денег на то же значение. Эти два процесса происходят одновременно.

#### 2.5.1. Заем от банка игрокам
Банк может выдать деньги игроку из своих средств, если он об этом попросит. Заранее оговаривается сумма заема и срок возврата (в ходах или кругах). Решение о том, выдавать заем или нет принимает банкир. Сумма заема должна быть возвращена в банк по истечению оговоренного срока. Если сумма не возвращается, бравший игрок заем объявляется банкротом. 

#### 2.5.2. Заем от игроков игрокам
Игрок А может выдать деньги из своих средств игроку В, если игрок В об этом попросит. Заранее оговаривается сумма заема и срок возврата (в ходах или кругах). Решение о том, выдавать заем или нет принимает игрок А. Сумма заема должна быть возвращена в банк по истечению оговоренного срока. Если сумма не возвращается, игрок В объявляется банкротом.

#### 2.5.3. Эмиссия
Банк принимает решение о выпуске новых денег, если их не хватает. При этом банк записывает сколько и в какой момент он выпустил денег. Банк может выпустить любой объем денег в любой момент игры. Решение о выпуске денег принимает банкир.

## 3. Заключение
### 3.1. Оригинальные правила
Для составления этих правил за основу были взяты правила оригинальной игры Монополия. Документ с правилами находится в репозитории по ссылке: [оригинальные правила](./original_monopoly_rules.pdf).

### 3.2. Добавленные правила
Помоимо оригинальных правил, было добавлено правило описанное в пункте 2.5.2. "Заем от игроков игрокам".

## 4. Термины
потом